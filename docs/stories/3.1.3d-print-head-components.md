# Story 3.1: 3D Print Head Housing, Ear Mounts & Neck Gimbal Components

## Status
Draft

## Story
**As a** hardware builder,
**I want** all head assembly components 3D printed with Epic 2 feedback incorporated,
**so that** I have all physical parts ready for assembly.

## Acceptance Criteria

1. **STL Files Verified:**
   - Head housing STLs from Epic 2 design downloaded from OnShape
   - Files reviewed for completeness:
     - `head-housing-main.stl` (main head shell)
     - `head-housing-back.stl` (back panel with cable access)
     - `head-front-panel.stl` (front panel with eye cutouts)
     - `eye-mount-left.stl`, `eye-mount-right.stl` (GC9A01 display mounts)
     - `presence-sensor-mount.stl` (mmWave sensor bracket)
     - `ear-base-left.stl`, `ear-base-right.stl` (ear servo mounts)
     - `ear-fin-left.stl`, `ear-fin-right.stl` (visible ear components)
     - `neck-gimbal-base.stl` (bottom plate, mounts to torso)
     - `neck-gimbal-pan.stl` (pan axis rotating component)
     - `neck-gimbal-tilt.stl` (tilt axis component)
     - `neck-gimbal-roll.stl` (roll axis, connects to head)
     - `servo-bracket-neck-pan.stl`, `servo-bracket-neck-tilt.stl`, `servo-bracket-neck-roll.stl`
     - `cable-guide-neck.stl` (cable management)

2. **3D Printing Settings:**
   - Material: PLA or PETG (PETG recommended for strength)
   - Layer height: 0.2mm (0.15mm for eye mounts for precision)
   - Infill: 20% for housing, 30% for structural parts (gimbal, servo brackets)
   - Supports: Auto-generated where needed (eye mounts, overhangs)
   - Print orientation optimized for strength and minimal supports

3. **Printing Execution:**
   - All components printed successfully
   - No warping, layer separation, or print failures
   - Support material removed cleanly
   - Screw holes drilled/cleaned to proper size (M3 for servo mounting, M4 for gimbal joints)

4. **Quality Verification:**
   - Eye display cutouts fit GC9A01 displays (1.28" diameter)
   - Presence sensor mount fits DFRobot SEN0395 dimensions
   - Servo brackets fit Feetech SCS0009 (ears) and STS3215 (neck) mounting holes
   - Gimbal joints move smoothly without binding
   - Cable routing channels clear and accessible

5. **Post-Processing:**
   - Support scars sanded smooth
   - Functional surfaces (servo mounts, gimbal pivots) checked for fit
   - Test-fit major components before final assembly

6. **Documentation:**
   - Print time logged: `hardware/3d-models/print-log.md`
   - Photos of printed parts: `hardware/3d-models/Head/assembly-parts-photos/`
   - Any print issues noted for future reprints

## Tasks / Subtasks

- [ ] **Task 1: Download and verify STL files from Epic 2** (AC: 1)
  - [ ] Access OnShape Epic 2 design
  - [ ] Download all head housing STL files
  - [ ] Download all ear mount STL files
  - [ ] Download all neck gimbal STL files
  - [ ] Download all servo bracket STL files
  - [ ] Verify file integrity (no corruption, opens in slicer)
  - [ ] Create checklist of all 16+ STL files

- [ ] **Task 2: Prepare 3D printer and configure slicer settings** (AC: 2)
  - [ ] Select material: PETG recommended (or PLA for testing)
  - [ ] Configure slicer (Cura, PrusaSlicer, etc.):
    - [ ] Layer height: 0.2mm (default), 0.15mm for eye mounts
    - [ ] Infill: 20% for housing, 30% for structural parts
    - [ ] Supports: Auto-generate for overhangs >45°
    - [ ] Wall thickness: 3-4 perimeters for strength
  - [ ] Orient parts for optimal strength:
    - [ ] Head housing: Front panel facing up
    - [ ] Gimbal components: Flat surfaces on bed
    - [ ] Servo brackets: Mount holes facing up
  - [ ] Estimate print times for all components

- [ ] **Task 3: Print head housing components** (AC: 3)
  - [ ] Print `head-housing-main.stl`
  - [ ] Print `head-housing-back.stl`
  - [ ] Print `head-front-panel.stl`
  - [ ] Print `eye-mount-left.stl` (0.15mm layer height)
  - [ ] Print `eye-mount-right.stl` (0.15mm layer height)
  - [ ] Print `presence-sensor-mount.stl`
  - [ ] Monitor prints, address any failures
  - [ ] Remove support material carefully

- [ ] **Task 4: Print ear mount components** (AC: 3)
  - [ ] Print `ear-base-left.stl`
  - [ ] Print `ear-base-right.stl`
  - [ ] Print `ear-fin-left.stl`
  - [ ] Print `ear-fin-right.stl`
  - [ ] Remove supports, check fit with servo bodies

- [ ] **Task 5: Print neck gimbal components** (AC: 3)
  - [ ] Print `neck-gimbal-base.stl`
  - [ ] Print `neck-gimbal-pan.stl`
  - [ ] Print `neck-gimbal-tilt.stl`
  - [ ] Print `neck-gimbal-roll.stl`
  - [ ] Print `servo-bracket-neck-pan.stl`
  - [ ] Print `servo-bracket-neck-tilt.stl`
  - [ ] Print `servo-bracket-neck-roll.stl`
  - [ ] Print `cable-guide-neck.stl`
  - [ ] Remove supports, check gimbal articulation

- [ ] **Task 6: Post-processing and quality checks** (AC: 4, 5)
  - [ ] Sand support scars on all parts
  - [ ] Test-fit GC9A01 displays in eye mounts
  - [ ] Test-fit DFRobot SEN0395 in presence sensor mount
  - [ ] Test-fit Feetech SCS0009 servos in ear brackets
  - [ ] Test-fit Feetech STS3215 servos in neck brackets
  - [ ] Drill/ream screw holes to proper size (M3, M4)
  - [ ] Test gimbal joint movement (smooth, no binding)
  - [ ] Verify cable routing channels clear

- [ ] **Task 7: Documentation** (AC: 6)
  - [ ] Log print times in `hardware/3d-models/print-log.md`
  - [ ] Photograph all printed parts laid out
  - [ ] Save photos to `hardware/3d-models/Head/assembly-parts-photos/`
  - [ ] Document any print issues or adjustments needed
  - [ ] Note filament usage and costs

## Dev Notes

### Epic 2 Prerequisites
From Epic 2 (Complete OnShape Design & Community Feedback):
- All mechanical components designed in OnShape
- Community feedback incorporated into designs
- STLs exported and marked as "V1.0 Draft - Ready to Print"
- Design includes head housing, ears, neck gimbal, servo brackets

### 3D Printing Best Practices

**Material Selection:**
- **PLA:** Easier to print, lower temperature, good for prototyping
- **PETG:** Stronger, more durable, better for structural parts (recommended for final assembly)
- **Layer adhesion:** PETG superior for load-bearing gimbal components

**Print Orientation Strategy:**
- Orient parts to maximize strength along stress vectors
- Minimize supports on functional surfaces (screw holes, mating surfaces)
- Flat surfaces on build plate for dimensional accuracy

**Support Removal:**
- Use flush cutters for initial removal
- Fine file or sandpaper for cleanup
- Avoid damage to functional surfaces

**Screw Hole Preparation:**
- M3 holes: Drill with 2.5-2.7mm bit for tap threading, or 3.2mm for clearance
- M4 holes: Drill with 3.3mm for tap, or 4.3mm for clearance
- Test fit screws before assembly

### Component Specifications

**From Epic 3 Goal:**
- **Head Housing:** Encloses ESP32, dual GC9A01 eyes, DFRobot SEN0395 presence sensor
- **Ear Mounts:** Support 2-DOF articulation per ear (4× Feetech SCS0009 servos total)
- **Neck Gimbal:** 3-DOF articulation (pan ±90°, tilt ±45°, roll ±30° with 3× Feetech STS3215 servos)

**Servo Dimensions (for verification):**
- Feetech SCS0009: ~40mm × 20mm × 38mm (L×W×H)
- Feetech STS3215: ~40mm × 20mm × 40mm (L×W×H)
- Mounting holes: M3 spacing (verify with servo datasheets)

**Display Dimensions:**
- GC9A01: 1.28" diagonal, ~35mm diameter circular display

### File Locations

```
hardware/3d-models/
├── Head/
│   ├── head-housing-main.stl
│   ├── head-housing-back.stl
│   ├── head-front-panel.stl
│   ├── eye-mount-left.stl
│   ├── eye-mount-right.stl
│   ├── presence-sensor-mount.stl
│   ├── ear-base-left.stl
│   ├── ear-base-right.stl
│   ├── ear-fin-left.stl
│   ├── ear-fin-right.stl
│   ├── neck-gimbal-base.stl
│   ├── neck-gimbal-pan.stl
│   ├── neck-gimbal-tilt.stl
│   ├── neck-gimbal-roll.stl
│   ├── servo-bracket-neck-pan.stl
│   ├── servo-bracket-neck-tilt.stl
│   ├── servo-bracket-neck-roll.stl
│   ├── cable-guide-neck.stl
│   ├── assembly-parts-photos/      # <-- THIS STORY
│   └── print-log.md                # <-- THIS STORY (update)
```

### Testing

**Visual Inspection:**
- No layer separation or delamination
- Clean edges, no stringing or blobs
- Dimensional accuracy (caliper measurements)

**Functional Testing:**
- Eye mounts: GC9A01 displays fit snugly without force
- Presence sensor mount: DFRobot SEN0395 fits securely
- Servo brackets: Servos mount with M3 screws without wobble
- Gimbal joints: Smooth rotation, no binding or excessive play
- Screw holes: Screws thread properly (tap) or pass through (clearance)

**Troubleshooting:**
- **Warping:** Increase bed temperature, add brim or raft
- **Layer separation:** Increase print temperature, reduce print speed
- **Poor overhangs:** Increase support density, reduce overhang angle threshold
- **Screw holes too tight:** Drill with slightly larger bit
- **Screw holes too loose:** Use heat-set inserts or thread-locking compound

## Dev Agent Record

### Agent Model Used
<!-- To be filled by dev agent -->

### Debug Log References
<!-- To be filled by dev agent -->

### Completion Notes List
<!-- To be filled by dev agent -->

### File List
<!-- To be filled by dev agent -->

## QA Results
<!-- To be filled by QA agent -->

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-08 | v1.0 | Initial story creation from Epic 3 | Sarah (Product Owner) |
