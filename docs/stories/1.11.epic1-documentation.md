# Story 1.11: Epic 1 Documentation & Content

## Status
Draft

## Story
**As a** future contributor or follower,
**I want** comprehensive Epic 1 documentation and build-in-public content,
**so that** I can replicate the setup and follow the journey.

## Acceptance Criteria

1. **Technical Documentation:**
   - `modules/body/README.md`:
     - Hardware connections (SPI + I2C pinout)
     - Firmware build/upload process
     - I2C register map reference
   - `orchestrator/ros2_nodes/README.md`:
     - How to run driver nodes
     - Topic reference
     - I2C communication flow

2. **Hardware Documentation:**
   - BOM: `hardware/bom/epic1_bom.csv`
     - ESP32-S3 or ESP32-WROOM, GC9A01 display, jumper wires, breadboard
     - Temporary power supplies (USB power banks or bench supply)
     - Supplier links, costs
   - Wiring diagrams in `hardware/wiring/`
   - Note: Full power system BOM will be in Epic 5 documentation

3. **Setup Scripts:**
   - `tools/setup/install_ros2_humble_pi.sh` tested on fresh Pi
   - README "Quick Start" section complete

4. **Photos/Videos:**
   - Photos: Power system, heart display beating, full breadboard setup
   - Optional: 15-second video of beating heart

5. **GitHub Milestone:**
   - Milestone "Epic 1: Foundation" created
   - All stories closed and linked
   - Milestone marked complete

6. **Build-in-Public Content:**
   - LinkedIn post: "Olaf's Heart Beats! ‚ù§Ô∏èü§ñ"
     - Photo of beating heart display
     - Explanation: I2C + SPI architecture, 60 FPS emotion-driven animation
     - Technical depth: Smart I2C slave pattern
   - Post published

7. **Troubleshooting Guide:**
   - `docs/troubleshooting-epic1.md`:
     - "ESP32 not detected on I2C" ‚Üí solution
     - "GC9A01 shows garbage" ‚Üí wiring check
     - "ROS2 node can't open I2C" ‚Üí permissions fix

## Tasks / Subtasks

- [ ] **Task 1: Create module technical documentation** (AC: 1)
  - [ ] Write `modules/body/README.md`
  - [ ] Document hardware connections (SPI pins, I2C pins)
  - [ ] Document firmware build process (PlatformIO commands)
  - [ ] Include I2C register map reference table
  - [ ] Write `orchestrator/ros2_nodes/README.md`
  - [ ] Document how to run driver nodes
  - [ ] List all topics with descriptions
  - [ ] Explain I2C communication flow

- [ ] **Task 2: Create hardware documentation** (AC: 2)
  - [ ] Create `hardware/bom/epic1_bom.csv`
  - [ ] List all components with quantities
  - [ ] Add supplier links (AliExpress, Adafruit, Amazon)
  - [ ] Add estimated costs
  - [ ] Note temporary power supply options
  - [ ] Create or update wiring diagrams in `hardware/wiring/`
  - [ ] Add note about Epic 5 power system

- [ ] **Task 3: Test and finalize setup scripts** (AC: 3)
  - [ ] Test `tools/setup/install_ros2_humble_pi.sh` on fresh Pi (or VM)
  - [ ] Fix any issues in script
  - [ ] Update main README with "Quick Start" section
  - [ ] Document prerequisites and assumptions

- [ ] **Task 4: Capture photos and videos** (AC: 4)
  - [ ] Photo: Power supply setup
  - [ ] Photo: Heart display beating (capture emotion change)
  - [ ] Photo: Full breadboard setup (wiring visible)
  - [ ] Optional: Record 15-second video of beating heart
  - [ ] Save to `hardware/photos/epic1/`

- [ ] **Task 5: Create GitHub milestone** (AC: 5)
  - [ ] Create milestone "Epic 1: Foundation" on GitHub
  - [ ] Link all Epic 1 stories (1.1-1.11)
  - [ ] Close completed stories
  - [ ] Mark milestone as complete

- [ ] **Task 6: Create build-in-public content** (AC: 6)
  - [ ] Draft LinkedIn post: "Olaf's Heart Beats!"
  - [ ] Select best photo of beating heart display
  - [ ] Write post explaining I2C + SPI architecture
  - [ ] Explain smart I2C slave pattern
  - [ ] Add technical depth appropriate for LinkedIn audience
  - [ ] Publish post

- [ ] **Task 7: Write troubleshooting guide** (AC: 7)
  - [ ] Create `docs/troubleshooting-epic1.md`
  - [ ] Section: "ESP32 not detected on I2C" with solution steps
  - [ ] Section: "GC9A01 shows garbage" with wiring checklist
  - [ ] Section: "ROS2 node can't open I2C" with permissions fix
  - [ ] Add other common issues encountered during development

## Dev Notes

### Documentation Standards
[Source: docs/architecture/coding-standards.md#documentation-standards]

**README Files - Required for Each Module:**
- **Purpose:** What the module does
- **Hardware:** Components, wiring diagram link, BOM link
- **Setup:** Installation, calibration, testing
- **API:** I2C register map, ROS2 topics/services
- **Troubleshooting:** Common issues and solutions

**README Template:**
```markdown
# Module Name

## Purpose
Brief description of what the module does.

## Hardware
- Component list
- See [wiring diagram](link) and [BOM](link)

## Setup
1. Flash firmware: `pio run -t upload`
2. Calibrate: (if applicable)
3. Test: `olaf-test module command`

## I2C Register Map
| Address | Name | Type | Description |
|---------|------|------|-------------|
| 0x00 | STATUS | R | Module status |

## Troubleshooting
- **Issue:** Description
  - **Solution:** Steps to fix
```

### File Locations
[Source: docs/architecture/source-tree.md]

**Documentation Paths:**
```
docs/
‚îú‚îÄ‚îÄ troubleshooting-epic1.md    # <-- THIS STORY
‚îî‚îÄ‚îÄ ...

modules/body/
‚îú‚îÄ‚îÄ README.md                    # <-- THIS STORY
‚îî‚îÄ‚îÄ ...

orchestrator/ros2_nodes/
‚îú‚îÄ‚îÄ README.md                    # <-- THIS STORY
‚îî‚îÄ‚îÄ ...

hardware/
‚îú‚îÄ‚îÄ bom/
‚îÇ   ‚îî‚îÄ‚îÄ epic1_bom.csv            # <-- THIS STORY
‚îú‚îÄ‚îÄ wiring/
‚îÇ   ‚îî‚îÄ‚îÄ body-heart-lcd-wiring.png # <-- THIS STORY
‚îî‚îÄ‚îÄ photos/
    ‚îî‚îÄ‚îÄ epic1/                   # <-- THIS STORY
```

### BOM Template

```csv
Item,Description,Quantity,Supplier,Link,Cost (USD),Notes
ESP32-S3-WROOM-2,ESP32 dev board,1,AliExpress,https://...,4.50,N8R8 variant preferred
GC9A01,Round TFT 1.28" 240x240,1,Adafruit,https://...,15.00,SPI interface
Jumper Wires,Male-to-male 20cm,10,Amazon,https://...,5.00,For breadboard
Breadboard,830 tie-points,1,Amazon,https://...,5.00,Half-size acceptable
USB Power Bank,5V 2A output,1,Any,N/A,10.00,Temporary power for Epic 1
```

### LinkedIn Post Template

**Title:** Olaf's Heart Beats! ‚ù§Ô∏èü§ñ

**Body:**
I'm excited to share a major milestone in building Olaf - my open-source AI companion robot!

[Photo of beating heart display]

**What you're seeing:** A 1.28" round TFT display showing an emotion-driven heartbeat animation at 60 FPS. The heart's BPM and color change based on Olaf's emotional state (happy = faster + yellow, sad = slower + blue, etc.).

**The architecture:** This validates our core design decision - a distributed embedded system where:
‚Ä¢ Raspberry Pi 5 runs ROS2 and handles AI reasoning
‚Ä¢ ESP32 modules act as "smart I2C slave peripherals" with embedded animation engines
‚Ä¢ I2C for commands (<100ms latency), SPI for 60 FPS display rendering

Why this pattern? Real-time animation and sensor polling require microsecond precision. By distributing intelligence to ESP32s (with FreeRTOS), we get:
‚úÖ Deterministic timing for smooth animations
‚úÖ Offloaded rendering from Pi (freeing CPU for AI/SLAM)
‚úÖ Modular hardware (head, ears, base are independent)

This "smart peripheral" pattern is uncommon in hobby robotics (most use serial/UART), but I2C gives us register-based control and multi-drop capability - perfect for coordinating 4-5 modules from one Pi.

Next up: Full 3D CAD in OnShape, then the eyes (dual round TFTs) and articulated ears!

**Open source:** Full build docs, firmware, and ROS2 code on GitHub soon.

#Robotics #ROS2 #EmbeddedSystems #OpenSource #AICompanion

### Troubleshooting Guide Template

```markdown
# Epic 1 Troubleshooting Guide

## ESP32 Not Detected on I2C

**Symptom:** `i2cdetect -y 1` does not show device at address 0x0A

**Possible Causes:**
1. I2C not enabled on Raspberry Pi
2. Wiring incorrect (SDA/SCL swapped or not connected)
3. ESP32 firmware not running or crashed
4. Pull-up resistors missing (should be internal, but check)

**Solutions:**
1. Enable I2C: `sudo raspi-config` ‚Üí Interface Options ‚Üí I2C ‚Üí Enable
2. Check wiring:
   - Pi GPIO2 (SDA) ‚Üí ESP32 GPIO21 (SDA)
   - Pi GPIO3 (SCL) ‚Üí ESP32 GPIO22 (SCL)
   - Common ground connection
3. Flash firmware: `pio run -d modules/body -t upload`
4. Check serial output: `pio device monitor` (should show "I2C Slave initialized at 0x0A")

## GC9A01 Display Shows Garbage

**Symptom:** Display is lit but shows random pixels or noise

**Possible Causes:**
1. SPI wiring incorrect
2. SPI speed too high for jumper wires
3. Power supply insufficient (display draws ~100mA)

**Solutions:**
1. Verify SPI wiring:
   - ESP32 GPIO18 ‚Üí GC9A01 SCL
   - ESP32 GPIO23 ‚Üí GC9A01 SDA
   - ESP32 GPIO4 ‚Üí GC9A01 RES
   - ESP32 GPIO2 ‚Üí GC9A01 DC
   - ESP32 GPIO5 ‚Üí GC9A01 CS
2. Reduce SPI speed in firmware: `spi.setFrequency(10000000);` (10 MHz)
3. Use shorter jumper wires (<15cm for SPI)
4. Check power supply voltage (should be stable 3.3V or 5V depending on display)

## ROS2 Node Can't Open I2C

**Symptom:** `OSError: [Errno 13] Permission denied: '/dev/i2c-1'`

**Cause:** User not in `i2c` group

**Solution:**
```bash
sudo usermod -a -G i2c $USER
# Log out and log back in, OR:
newgrp i2c
```

Verify: `groups` should include `i2c`
```

### Build-in-Public Content Strategy

**Goals:**
- Share technical journey (educate, inspire)
- Build early follower base
- Demonstrate expertise (for professional credibility)
- Document progress publicly (motivates completion)

**Platforms:**
- LinkedIn (professional network, technical depth)
- Reddit (niche communities, feedback)
- YouTube (future: build videos)
- GitHub (code, docs, issues)

**Cadence:**
- Epic milestones (major posts)
- Weekly updates (smaller posts)
- Technical deep-dives (blog posts or LinkedIn articles)

## Dev Agent Record

### Agent Model Used
<!-- To be filled by dev agent -->

### Debug Log References
<!-- To be filled by dev agent -->

### Completion Notes List
<!-- To be filled by dev agent -->

### File List
<!-- To be filled by dev agent -->

## QA Results
<!-- To be filled by QA agent -->

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-21 | v1.0 | Initial story draft | Bob (Scrum Master) |
