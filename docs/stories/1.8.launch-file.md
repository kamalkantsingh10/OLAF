# Story 1.8: Launch File - Automated Startup

## Status
Draft

## Story
**As a** system operator,
**I want** a ROS2 launch file that starts all Epic 1 nodes,
**so that** I can run the full system with one command.

## Acceptance Criteria

1. **Launch File Created:**
   - File: `ros2/src/orchestrator/launch/minimal_system.launch.py`
   - Starts: Head driver node + Minimal coordinator

2. **Launch Configuration:**
   ```python
   from launch import LaunchDescription
   from launch_ros.actions import Node

   def generate_launch_description():
       return LaunchDescription([
           Node(
               package='orchestrator',
               executable='head_driver',
               name='head_driver'
           ),
           Node(
               package='orchestrator',
               executable='minimal_coordinator',
               name='minimal_coordinator'
           ),
       ])
   ```

3. **Execution:**
   - Command: `ros2 launch orchestrator minimal_system.launch.py`
   - Both nodes start automatically
   - Eyes cycle through expressions every 10 seconds with periodic blinks

4. **Logging:**
   - Launch output shows both nodes starting
   - Logs visible in terminal

5. **Documentation:**
   - Launch file documented in README
   - "Quick Start" section updated

## Tasks / Subtasks

- [ ] **Task 1: Create launch file** (AC: 1, 2)
  - [ ] Create `ros2/src/orchestrator/launch/minimal_system.launch.py`
  - [ ] Import required launch modules
  - [ ] Define `generate_launch_description()` function
  - [ ] Add Node actions for head_driver and minimal_coordinator

- [ ] **Task 2: Configure node parameters** (AC: 2)
  - [ ] Set package names correctly
  - [ ] Set executable names
  - [ ] Set node names in ROS2 namespace
  - [ ] Add any required parameters (I2C address, etc.)

- [ ] **Task 3: Test launch file** (AC: 3, 4)
  - [ ] Source ROS2 environment
  - [ ] Execute: `ros2 launch orchestrator minimal_system.launch.py`
  - [ ] Verify both nodes start successfully
  - [ ] Observe eye displays cycling expressions with periodic blinks
  - [ ] Check logs for errors

- [ ] **Task 4: Documentation** (AC: 5)
  - [ ] Update `orchestrator/README.md` with launch file usage
  - [ ] Add "Quick Start" section
  - [ ] Document troubleshooting steps

## Dev Notes

### ROS2 Launch File Structure
[Source: ROS2 Humble documentation]

Basic launch file pattern:
```python
from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    return LaunchDescription([
        Node(
            package='package_name',
            executable='node_executable',
            name='node_name',
            output='screen',  # Show logs
            parameters=[{'param': value}]
        ),
    ])
```

### File Locations
[Source: docs/architecture/source-tree.md]
```
orchestrator/
├── launch/
│   ├── olaf_full.launch.py
│   ├── minimal.launch.py       # <-- THIS STORY (minimal_system.launch.py)
│   └── test_module.launch.py
```

### Previous Story Dependencies
- Story 1.5: head_driver node
- Story 1.6: minimal_coordinator node

## Dev Agent Record

### Agent Model Used
<!-- To be filled by dev agent -->

### Debug Log References
<!-- To be filled by dev agent -->

### Completion Notes List
<!-- To be filled by dev agent -->

### File List
<!-- To be filled by dev agent -->

## QA Results
<!-- To be filled by QA agent -->

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-21 | v1.0 | Initial story draft | Bob (Scrum Master) |
| 2025-10-25 | v1.1 | Updated from body to head driver references | Bob (Scrum Master) |
