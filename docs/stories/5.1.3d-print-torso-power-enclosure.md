# Story 5.1: 3D Print Core Torso Panels & Power Enclosure

## Status
Draft

## Story
**As a** hardware builder,
**I want** all torso components 3D printed with Epic 2 feedback incorporated,
**so that** I have all physical parts ready for assembly.

## Acceptance Criteria

1. **STL Files Verified:**
   - Torso STLs from Epic 2 design downloaded from OnShape
   - Files reviewed for completeness:
     - `torso-main-chassis.stl` (main structural frame)
     - `torso-front-panel.stl` (front panel with heart LCD cutout)
     - `torso-back-panel.stl` (back panel with access door)
     - `torso-side-left.stl`, `torso-side-right.stl` (side panels)
     - `heart-lcd-bezel.stl` (decorative bezel for heart display)
     - `heart-lcd-mount.stl` (LCD mounting bracket)
     - `raspberry-pi-mount.stl` (Pi mounting plate with standoffs)
     - `power-enclosure-base.stl` (battery compartment base)
     - `power-enclosure-lid.stl` (battery compartment lid with ventilation)
     - `buck-converter-mount.stl` (mounting bracket for converters)
     - `power-distribution-board-mount.stl` (custom power board mounting)
     - `cable-channels-torso.stl` (cable routing guides)
     - `component-bay-dividers.stl` (organization dividers for electronics)

2. **3D Printing Settings:**
   - Material: PETG (heat resistance for power components, strength for structural)
   - Layer height: 0.2mm (0.15mm for LCD mount precision)
   - Infill: 30% for structural parts (chassis, power enclosure), 20% for panels
   - Supports: Auto-generated where needed (LCD bezel, cable channels)
   - Print orientation optimized for strength and minimal supports

3. **Printing Execution:**
   - All components printed successfully
   - No warping, layer separation, or print failures
   - Support material removed cleanly
   - Screw holes drilled/cleaned to proper size (M3 for electronics, M4 for structural)
   - Power enclosure lid ventilation holes clear (heat dissipation)

4. **Quality Verification:**
   - Heart LCD cutout fits 1.53" round display (40mm diameter)
   - Raspberry Pi mount fits Pi 4B dimensions with clearance for cables
   - Battery compartment dimensions fit 36V hoverboard battery pack
   - Buck converter mounts fit common DC-DC converter modules (LM2596, XL4015)
   - Cable channels accommodate 14AWG power wiring
   - Structural integrity: Chassis can support head assembly weight (test with substitute weight)

5. **Post-Processing:**
   - Support scars sanded smooth
   - Functional surfaces (mounting holes, LCD bezel) checked for fit
   - Test-fit major components: Pi, battery (if available), converters
   - Heat-sensitive areas (near converters): Verify PETG thermal resistance

6. **Documentation:**
   - Print time logged: `hardware/3d-models/print-log.md`
   - Photos of printed parts: `hardware/3d-models/Body/assembly-parts-photos/`
   - Any print issues noted for future reprints

## Tasks / Subtasks

- [ ] **Task 1: Download and verify STL files from Epic 2** (AC: 1)
  - [ ] Access OnShape Epic 2 design
  - [ ] Download all torso chassis STL files
  - [ ] Download all panel STL files (front, back, sides)
  - [ ] Download heart LCD mount and bezel STL files
  - [ ] Download Raspberry Pi mount STL
  - [ ] Download power enclosure STLs (base, lid)
  - [ ] Download buck converter and power distribution board mounts
  - [ ] Download cable management STL files
  - [ ] Verify file integrity (no corruption, opens in slicer)
  - [ ] Create checklist of all 13+ STL files

- [ ] **Task 2: Prepare 3D printer and configure slicer settings** (AC: 2)
  - [ ] Select material: PETG (heat resistance required for power components)
  - [ ] Configure slicer (Cura, PrusaSlicer, etc.):
    - [ ] Layer height: 0.2mm (default), 0.15mm for heart LCD mount
    - [ ] Infill: 30% for structural (chassis, power enclosure), 20% for panels
    - [ ] Supports: Auto-generate for overhangs >45°
    - [ ] Wall thickness: 4 perimeters for structural strength
  - [ ] Orient parts for optimal strength:
    - [ ] Torso chassis: Flat base on bed
    - [ ] Panels: Front face up for finish quality
    - [ ] Power enclosure: Base and lid separately
    - [ ] Mounting brackets: Screw holes facing up
  - [ ] Estimate print times for all components (12-16 hours total)

- [ ] **Task 3: Print torso chassis and panels** (AC: 3)
  - [ ] Print `torso-main-chassis.stl` (longest print, ~6-8 hours)
  - [ ] Print `torso-front-panel.stl`
  - [ ] Print `torso-back-panel.stl`
  - [ ] Print `torso-side-left.stl`
  - [ ] Print `torso-side-right.stl`
  - [ ] Monitor prints, address any failures
  - [ ] Remove support material carefully

- [ ] **Task 4: Print heart LCD components** (AC: 3)
  - [ ] Print `heart-lcd-mount.stl` (0.15mm layer height for precision)
  - [ ] Print `heart-lcd-bezel.stl`
  - [ ] Remove supports, check fit for 1.53" round LCD (40mm diameter)

- [ ] **Task 5: Print Raspberry Pi mount** (AC: 3)
  - [ ] Print `raspberry-pi-mount.stl`
  - [ ] Remove supports, check fit with Pi 4B dimensions
  - [ ] Verify standoff heights and mounting hole positions

- [ ] **Task 6: Print power enclosure components** (AC: 3)
  - [ ] Print `power-enclosure-base.stl` (large print, may take 4-6 hours)
  - [ ] Print `power-enclosure-lid.stl`
  - [ ] Print `buck-converter-mount.stl`
  - [ ] Print `power-distribution-board-mount.stl`
  - [ ] Verify ventilation holes are clear in lid
  - [ ] Check battery compartment dimensions

- [ ] **Task 7: Print cable management components** (AC: 3)
  - [ ] Print `cable-channels-torso.stl`
  - [ ] Print `component-bay-dividers.stl`
  - [ ] Remove supports, verify cable routing clearances

- [ ] **Task 8: Post-processing and quality checks** (AC: 4, 5)
  - [ ] Sand support scars on all parts
  - [ ] Test-fit heart LCD (1.53" round, 40mm diameter) in mount
  - [ ] Test-fit Raspberry Pi 4B in mount
  - [ ] Test-fit battery pack (if available) in power enclosure
  - [ ] Test-fit buck converters in mounting brackets
  - [ ] Drill/ream screw holes to proper size (M3, M4)
  - [ ] Verify cable channels accommodate 14AWG wire
  - [ ] Test structural integrity: Load chassis with weight approximating head assembly

- [ ] **Task 9: Documentation** (AC: 6)
  - [ ] Log print times in `hardware/3d-models/print-log.md`
  - [ ] Photograph all printed parts laid out
  - [ ] Save photos to `hardware/3d-models/Body/assembly-parts-photos/`
  - [ ] Document any print issues or adjustments needed
  - [ ] Note filament usage and costs
  - [ ] Document any design modifications needed for reprints

## Dev Notes

### Epic 2 Prerequisites
From Epic 2 (Complete OnShape Design & Community Feedback):
- All mechanical components designed in OnShape
- Community feedback incorporated into designs
- STLs exported and marked as "V1.0 Draft - Ready to Print"
- Design includes torso chassis, panels, power enclosure, mounting brackets

### 3D Printing Best Practices

**Material Selection: PETG Required**
- **PETG Advantages:** Heat resistance (important near buck converters), superior strength for structural chassis
- **Temperature:** ~230-245°C nozzle, ~70-85°C bed
- **Adhesion:** Clean bed with isopropyl alcohol, use glue stick if needed
- **Warping prevention:** Enclosed printer recommended, slow first layer

**Print Orientation Strategy:**
- Chassis: Base flat on bed for dimensional accuracy
- Panels: Outer surface up for cosmetic finish
- Power enclosure: Largest flat surface on bed
- Mounting brackets: Orient for strength along load vectors

**Support Removal:**
- Use flush cutters for initial removal
- Fine file or sandpaper for cleanup
- Be careful around LCD cutout (circular precision required)

**Screw Hole Preparation:**
- M3 holes: Drill with 2.5-2.7mm bit for tap threading, or 3.2mm for clearance
- M4 holes: Drill with 3.3mm for tap, or 4.3mm for clearance
- Test fit screws before assembly

### Component Specifications

**From Epic 5 Goal:**
- **Torso Chassis:** Houses Raspberry Pi, ESP32 Body Module, heart LCD
- **Power Enclosure:** Contains 36V hoverboard battery, buck converters, power distribution board
- **Heart LCD:** 1.53" Round TFT 360×360 (ST77916 QSPI)
- **Battery:** 36V 4.4Ah hoverboard battery (10S2P 18650 cells, ~160×110×50mm approximate dimensions)

**Component Dimensions (for verification):**
- Raspberry Pi 4B: 85mm × 56mm × 20mm (including GPIO header)
- Heart LCD: 1.53" round, ~40mm diameter
- Buck converters (LM2596/XL4015): ~43mm × 21mm × 14mm (varies by model)
- Battery pack: Check specific model dimensions before printing

### Thermal Considerations

**PETG Heat Resistance:**
- Glass transition temperature (Tg): ~80°C
- Safe operating temperature: <60°C continuous
- Buck converters can reach 50-60°C under load (PETG suitable)
- Ensure ventilation holes in power enclosure lid are clear

### File Locations

```
hardware/3d-models/
├── Body/
│   ├── torso-main-chassis.stl
│   ├── torso-front-panel.stl
│   ├── torso-back-panel.stl
│   ├── torso-side-left.stl
│   ├── torso-side-right.stl
│   ├── heart-lcd-bezel.stl
│   ├── heart-lcd-mount.stl
│   ├── raspberry-pi-mount.stl
│   ├── power-enclosure-base.stl
│   ├── power-enclosure-lid.stl
│   ├── buck-converter-mount.stl
│   ├── power-distribution-board-mount.stl
│   ├── cable-channels-torso.stl
│   ├── component-bay-dividers.stl
│   ├── assembly-parts-photos/      # <-- THIS STORY
│   └── print-log.md                # <-- THIS STORY (update)
```

### Testing

**Visual Inspection:**
- No layer separation or delamination
- Clean edges, no stringing or blobs
- Dimensional accuracy (caliper measurements on critical features)

**Functional Testing:**
- Heart LCD mount: LCD fits snugly without force
- Raspberry Pi mount: Pi mounts with M2.5 screws without wobble
- Battery compartment: Battery fits with clearance for BMS wires
- Buck converter mounts: Converters mount securely
- Cable channels: 14AWG wire passes through without binding
- Structural test: Chassis supports estimated head assembly weight (~1.5kg) without flexing

**Troubleshooting:**
- **Warping:** Ensure bed temperature adequate for PETG (70-85°C), use enclosure if available
- **Layer separation:** Increase nozzle temperature, reduce print speed
- **Poor overhangs:** Increase support density, reduce overhang angle threshold to 40°
- **Screw holes too tight:** Drill with slightly larger bit, test fit
- **Screw holes too loose:** Use heat-set inserts (M3 or M4) for strong threads

## Dependencies
- Epic 2: Complete OnShape Design & Community Feedback (STLs ready)

## Estimated Effort
12-16 hours print time (spread over 3-4 days) + 3-4 hours post-processing

## Dev Agent Record

### Agent Model Used
<!-- To be filled by dev agent -->

### Debug Log References
<!-- To be filled by dev agent -->

### Completion Notes List
<!-- To be filled by dev agent -->

### File List
<!-- To be filled by dev agent -->

## QA Results
<!-- To be filled by QA agent -->

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-30 | v1.0 | Initial story creation from Epic 5 | John (Product Manager) |
